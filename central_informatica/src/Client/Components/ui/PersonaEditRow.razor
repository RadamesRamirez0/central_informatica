@using central_informatica.src.Shared.Models

<tr class="bg-blue-200 [&>td]:border [&>td]:border-gray-300 text-center [&_td]:px-1">
    <td>@PersonaId</td>
    <PersonaForm Nombre="@Nombre" NombreChanged="@OnNombreChanged" ApellidoPaterno="@ApellidoPaterno"
        ApellidoPaternoChanged="@OnApellidoPaternoChanged" ApellidoMaterno="@ApellidoMaterno"
        ApellidoMaternoChanged="@OnApellidoMaternoChanged" FechaNacimiento="@FechaNacimiento"
        FechaNacimientoChanged="@OnFechaNacimientoChanged" Sexo="@Sexo" SexoChanged="@OnSexoChanged" />
    <td class="flex justify-center gap-1.5 py-1.5">
        <button @onclick="OnSave"
            class="z-10 cursor-pointer border border-green-600 hover:bg-green-300 hover:border-green-800 transition-colors rounded-full leading-0 size-9">✅</button>
        <button @onclick="OnCancel"
            class="z-10 cursor-pointer border border-red-600 hover:bg-red-300 hover:border-red-800 transition-colors rounded-full leading-0 size-9">❌</button>
    </td>
</tr>

@code {
    [Parameter] public int PersonaId { get; set; }
    [Parameter] public string? Nombre { get; set; }
    [Parameter] public EventCallback<string?> NombreChanged { get; set; }
    [Parameter] public string? ApellidoPaterno { get; set; }
    [Parameter] public EventCallback<string?> ApellidoPaternoChanged { get; set; }
    [Parameter] public string? ApellidoMaterno { get; set; }
    [Parameter] public EventCallback<string?> ApellidoMaternoChanged { get; set; }
    [Parameter] public DateTime? FechaNacimiento { get; set; }
    [Parameter] public EventCallback<DateTime?> FechaNacimientoChanged { get; set; }
    [Parameter] public char? Sexo { get; set; }
    [Parameter] public EventCallback<char?> SexoChanged { get; set; }
    [Parameter] public EventCallback OnSave { get; set; }
    [Parameter] public EventCallback OnCancel { get; set; }

    private async Task OnNombreChanged(string? value)
    {
        Nombre = value;
        await NombreChanged.InvokeAsync(value);
    }

    private async Task OnApellidoPaternoChanged(string? value)
    {
        ApellidoPaterno = value;
        await ApellidoPaternoChanged.InvokeAsync(value);
    }

    private async Task OnApellidoMaternoChanged(string? value)
    {
        ApellidoMaterno = value;
        await ApellidoMaternoChanged.InvokeAsync(value);
    }

    private async Task OnFechaNacimientoChanged(DateTime? value)
    {
        FechaNacimiento = value;
        await FechaNacimientoChanged.InvokeAsync(value);
    }

    private async Task OnSexoChanged(char? value)
    {
        Sexo = value;
        await SexoChanged.InvokeAsync(value);
    }
}
